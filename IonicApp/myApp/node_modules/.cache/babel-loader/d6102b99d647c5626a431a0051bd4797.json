{"ast":null,"code":"var _jsxFileName = \"D:\\\\Backup\\\\IonicApp\\\\myApp\\\\src\\\\todo\\\\BuyTicket.tsx\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport { IonButton, IonButtons, IonContent, IonHeader, IonPage, IonTitle, IonToolbar } from '@ionic/react';\nimport { getLogger } from '../core';\nimport { TrainContext } from './TrainProvider';\nimport { TrainDetails } from \"./Train\";\nconst log = getLogger('ItemEdit');\n\nconst ItemEdit = ({\n  history,\n  match\n}) => {\n  const {\n    trains,\n    buying,\n    buyingError,\n    buyTicket\n  } = useContext(TrainContext);\n  const [text, setText] = useState('');\n  const [item, setItem] = useState();\n  useEffect(() => {\n    log('useEffect');\n    const routeId = match.params.id || '';\n    const item = trains === null || trains === void 0 ? void 0 : trains.find(it => it.id === routeId);\n    setItem(item);\n\n    if (item) {\n      log('Exista');\n    }\n  }, [match.params.id, trains]);\n\n  const handleBuy = () => {\n    const editedItem = item;\n\n    if (item) {\n      buyTicket && buyTicket(item).then(() => history.goBack());\n    }\n  };\n\n  log('render');\n  return /*#__PURE__*/React.createElement(IonPage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IonHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IonToolbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(IonTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 21\n    }\n  }, \"Edit\"), /*#__PURE__*/React.createElement(IonButtons, {\n    slot: \"end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(IonButton, {\n    onClick: handleBuy,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 25\n    }\n  }, \"Buy\")))), /*#__PURE__*/React.createElement(IonContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, item && /*#__PURE__*/React.createElement(TrainDetails, {\n    key: item.id,\n    id: item.id,\n    from: item.from,\n    to: item.to,\n    timeLeave: item.timeLeave,\n    timeArrive: item.timeArrive,\n    nrSeats: item.nrSeats,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 21\n    }\n  })));\n};\n\nexport default ItemEdit;","map":{"version":3,"sources":["D:/Backup/IonicApp/myApp/src/todo/BuyTicket.tsx"],"names":["React","useContext","useEffect","useState","IonButton","IonButtons","IonContent","IonHeader","IonPage","IonTitle","IonToolbar","getLogger","TrainContext","TrainDetails","log","ItemEdit","history","match","trains","buying","buyingError","buyTicket","text","setText","item","setItem","routeId","params","id","find","it","handleBuy","editedItem","then","goBack","from","to","timeLeave","timeArrive","nrSeats"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,EAAuCC,QAAvC,QAAuD,OAAvD;AACA,SACIC,SADJ,EAEIC,UAFJ,EAGIC,UAHJ,EAIIC,SAJJ,EAOIC,OAPJ,EAQIC,QARJ,EASIC,UATJ,QAUO,cAVP;AAWA,SAASC,SAAT,QAA0B,SAA1B;AACA,SAASC,YAAT,QAA6B,iBAA7B;AAGA,SAAeC,YAAf,QAAkC,SAAlC;AAEA,MAAMC,GAAG,GAAGH,SAAS,CAAC,UAAD,CAArB;;AAMA,MAAMI,QAAiC,GAAG,CAAC;AAAEC,EAAAA,OAAF;AAAWC,EAAAA;AAAX,CAAD,KAAwB;AAC9D,QAAM;AAAEC,IAAAA,MAAF;AAAUC,IAAAA,MAAV;AAAkBC,IAAAA,WAAlB;AAA+BC,IAAAA;AAA/B,MAA6CpB,UAAU,CAACW,YAAD,CAA7D;AACA,QAAM,CAACU,IAAD,EAAOC,OAAP,IAAkBpB,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACqB,IAAD,EAAOC,OAAP,IAAkBtB,QAAQ,EAAhC;AACAD,EAAAA,SAAS,CAAC,MAAM;AACZY,IAAAA,GAAG,CAAC,WAAD,CAAH;AACA,UAAMY,OAAO,GAAGT,KAAK,CAACU,MAAN,CAAaC,EAAb,IAAmB,EAAnC;AACA,UAAMJ,IAAI,GAAGN,MAAH,aAAGA,MAAH,uBAAGA,MAAM,CAAEW,IAAR,CAAaC,EAAE,IAAIA,EAAE,CAACF,EAAH,KAAUF,OAA7B,CAAb;AACAD,IAAAA,OAAO,CAACD,IAAD,CAAP;;AACA,QAAIA,IAAJ,EAAU;AACNV,MAAAA,GAAG,CAAC,QAAD,CAAH;AACH;AACJ,GARQ,EAQN,CAACG,KAAK,CAACU,MAAN,CAAaC,EAAd,EAAkBV,MAAlB,CARM,CAAT;;AASA,QAAMa,SAAS,GAAG,MAAM;AACpB,UAAMC,UAAU,GAAGR,IAAnB;;AACA,QAAGA,IAAH,EAAS;AACLH,MAAAA,SAAS,IAAIA,SAAS,CAACG,IAAD,CAAT,CAAgBS,IAAhB,CAAqB,MAAMjB,OAAO,CAACkB,MAAR,EAA3B,CAAb;AACH;AACJ,GALD;;AAMApB,EAAAA,GAAG,CAAC,QAAD,CAAH;AACA,sBACI,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI,oBAAC,UAAD;AAAY,IAAA,IAAI,EAAC,KAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,SAAD;AAAW,IAAA,OAAO,EAAEiB,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADJ,CAFJ,CADJ,CADJ,eAWI,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKP,IAAI,iBACD,oBAAC,YAAD;AAAc,IAAA,GAAG,EAAIA,IAAI,CAACI,EAA1B;AAA8B,IAAA,EAAE,EAAEJ,IAAI,CAACI,EAAvC;AAA2C,IAAA,IAAI,EAAEJ,IAAI,CAACW,IAAtD;AAA4D,IAAA,EAAE,EAAEX,IAAI,CAACY,EAArE;AAAyE,IAAA,SAAS,EAAEZ,IAAI,CAACa,SAAzF;AAAoG,IAAA,UAAU,EAAEb,IAAI,CAACc,UAArH;AAAiI,IAAA,OAAO,EAAEd,IAAI,CAACe,OAA/I;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFR,CAXJ,CADJ;AAmBH,CAvCD;;AAyCA,eAAexB,QAAf","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\r\nimport {\r\n    IonButton,\r\n    IonButtons,\r\n    IonContent,\r\n    IonHeader,\r\n    IonInput, IonList,\r\n    IonLoading,\r\n    IonPage,\r\n    IonTitle,\r\n    IonToolbar\r\n} from '@ionic/react';\r\nimport { getLogger } from '../core';\r\nimport { TrainContext } from './TrainProvider';\r\nimport { RouteComponentProps } from 'react-router';\r\nimport { TrainProps } from './TrainProps';\r\nimport Train, {TrainDetails} from \"./Train\";\r\n\r\nconst log = getLogger('ItemEdit');\r\n\r\ninterface ItemEditProps extends RouteComponentProps<{\r\n    id?: string;\r\n}> {}\r\n\r\nconst ItemEdit: React.FC<ItemEditProps> = ({ history, match }) => {\r\n    const { trains, buying, buyingError, buyTicket } = useContext(TrainContext);\r\n    const [text, setText] = useState('');\r\n    const [item, setItem] = useState<TrainProps>();\r\n    useEffect(() => {\r\n        log('useEffect');\r\n        const routeId = match.params.id || '';\r\n        const item = trains?.find(it => it.id === routeId);\r\n        setItem(item);\r\n        if (item) {\r\n            log('Exista');\r\n        }\r\n    }, [match.params.id, trains]);\r\n    const handleBuy = () => {\r\n        const editedItem = item;\r\n        if(item) {\r\n            buyTicket && buyTicket(item).then(() => history.goBack());\r\n        }\r\n    };\r\n    log('render');\r\n    return (\r\n        <IonPage>\r\n            <IonHeader>\r\n                <IonToolbar>\r\n                    <IonTitle>Edit</IonTitle>\r\n                    <IonButtons slot=\"end\">\r\n                        <IonButton onClick={handleBuy}>\r\n                            Buy\r\n                        </IonButton>\r\n                    </IonButtons>\r\n                </IonToolbar>\r\n            </IonHeader>\r\n            <IonContent>\r\n                {item && (\r\n                    <TrainDetails key = {item.id} id={item.id} from={item.from} to={item.to} timeLeave={item.timeLeave} timeArrive={item.timeArrive} nrSeats={item.nrSeats}/>\r\n                )}\r\n            </IonContent>\r\n        </IonPage>\r\n    );\r\n};\r\n\r\nexport default ItemEdit;\r\n"]},"metadata":{},"sourceType":"module"}